<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>John Scarrow — Portfolio</title>
  <meta name="description" content="John Scarrow — portfolio showcasing web and ML projects (Battleship-ML demo).">
  <meta property="og:title" content="John Scarrow — Portfolio">
  <meta property="og:description" content="Portfolio of web and machine learning projects by John Scarrow.">
  <meta property="og:image" content="/images/image.png">
  <meta property="og:url" content="https://johnscarrow.github.io/">
  <!-- Favicon and touch icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/images/image.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/image.png">
  <link rel="apple-touch-icon" href="/images/image.png">
  <meta name="theme-color" content="#0b1221">
  <style>
    :root{--bg:#bde0eb;--muted:#6b7280;--accent:#0b1221}
    html,body{height:100%}
    body { margin: 0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#0f172a; background:var(--bg); }
    header{padding:1rem;background:var(--accent);color:#fff}
    .container{max-width:1100px;margin:0 auto;padding:1rem}
    nav a{color:#d1d5db;text-decoration:none;margin-left:1rem}
    .hero{padding:3rem 1rem;background:linear-gradient(180deg,#ffffff00,#ffffff);}
    .hero h1{margin:0;font-size:2rem}
    .muted{color:var(--muted)}
    .card{border:1px solid #e6e6e6;border-radius:8px;padding:1rem;background:#fff}
    .controls{margin-top:.75rem}
    .btn{display:inline-block;padding:.5rem .75rem;border-radius:6px;background:#0b1221;color:#fff;text-decoration:none;border:0;cursor:pointer}
    .btn.secondary{background:#efefef;color:#111;border:1px solid #ddd}
    .note { padding: .75rem 1rem; background:#fff3cd; color:#663c00; border-radius:6px }
    footer{padding:.75rem 1rem;background:#f6f7fb;color:#222;font-size:.9rem;text-align:center}
    @media (min-width:700px){ .hero{padding:4rem 1rem} }
     /* Make the demo larger for portfolio view (responsive height using viewport units)
       Reduced slightly to avoid excessive page length while keeping demo visible. */
     .demo-large{min-height:52vh}
     @media (max-width:900px){ .demo-large{min-height:40vh} }
  </style>
  <!-- Performance: preconnect to frequently used origins -->
  <link rel="preconnect" href="https://johnscarrow.github.io">
  <link rel="preconnect" href="https://github.com">
  <style id="wargames-style">
    /* WarGames easter egg styles */
    .wg-fab{position:fixed;right:18px;bottom:18px;width:52px;height:52px;border-radius:50%;background:#0b1221;color:#bde0eb;border:0;cursor:pointer;box-shadow:0 6px 18px rgba(11,18,33,.25);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;z-index:1200}
    #wargames-modal{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:1201}
    #wargames-modal .panel{background:#071019;color:#bde0eb;padding:18px;border-radius:8px;max-width:720px;width:92%;box-shadow:0 10px 40px rgba(0,0,0,.6);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, 'Courier New', monospace}
    #wargames-modal h3{margin:0 0 8px 0;color:#9be7ff}
    #wargames-modal p{margin:.5rem 0;color:#d6f1ff}
    .wg-cta{display:inline-block;padding:.5rem .75rem;border-radius:6px;background:#0b1221;color:#bde0eb;border:1px solid #2b3946;margin-right:.5rem;cursor:pointer}
    .wg-cta.alt{background:#e6eef6;color:#071019;border:1px solid #c7d6e0}
    .wg-terminal{background:#00110a;color:#66ff66;padding:12px;border-radius:6px;height:180px;overflow:auto;margin-top:.5rem;font-size:13px;line-height:1.3}
  </style>
</head>
<body>
  <header>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between">
      <div>
        <strong style="font-size:1rem">John Scarrow</strong>
      </div>
      <nav aria-label="Primary">
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#contact">Contact</a>
        <a href="/resume.pdf" target="_blank" rel="noopener noreferrer" aria-label="Download resume">Resume</a>
        <a href="https://github.com/JohnScarrow/JohnScarrow" target="_blank" rel="noopener noreferrer">GitHub</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container">
        <h1>Hi — I'm John Scarrow</h1>
        <p class="muted">I build web and machine learning projects, with a focus on practical demos and reproducible experiments. Below are a few highlights and a live demo you can load on demand.</p>
        <p style="margin-top:.75rem">
          <a class="btn" href="https://github.com/JohnScarrow/JohnScarrow" target="_blank" rel="noopener noreferrer">View GitHub</a>
          <a class="btn secondary" href="#projects">See projects</a>
            <a class="btn secondary" href="/resume.html" target="_blank" rel="noopener noreferrer" style="margin-left:.5rem">Download Resume</a>
        </p>
      </div>
    </section>

    <section id="about" class="container" style="padding-top:1rem">
      <h2>About</h2>
      <p class="muted">Innovative and adaptable developer with hands-on expertise in AWS deployment, cloud infrastructure, and full-stack applications. Skilled at integrating AI tools into workflows to accelerate development and optimize performance. Experienced in building and deploying projects end-to-end, with a strong focus on scalability, reliability, and rapid iteration.</p>
      <p class="muted"><strong>Key strengths:</strong> Full-stack development (React.js, Express.js, JavaScript, C++), AWS deployment & cloud infrastructure, AI-assisted workflows, strong debugging and problem-solving in agile teams.</p>
    </section>

    <section id="projects" class="container" style="padding-top:1rem">
      <h2>Projects</h2>
        <div style="display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-start;margin-top:.75rem;border:1px solid #e6e6e6;border-radius:8px;padding:1rem;background:#fff">
          <!-- Left column: textual project info -->
          <div style="flex:1 1 360px;min-width:280px;max-width:720px">
            <h3 style="margin:.25rem 0">Battleship-ML — Live demo</h3>
            <p class="muted">A WebAssembly demo showing a Battleship AI (author). Built in C++ and compiled to WebAssembly via Emscripten; the UI uses a small JS wrapper for rendering and controls. For performance the demo iframe is not loaded by default — hover the preview or click <strong>Load demo</strong> to embed it, or open it in a new tab.</p>

            <div style="margin-top:.75rem;font-size:14px">
              <strong>Project summary:</strong>
              <ul style="margin:6px 0 0 18px;color:var(--muted)">
                <li><strong>Role:</strong> Author — implemented game logic, AI weights, and WASM exports.</li>
                <li><strong>Tech:</strong> C++, WebAssembly (Emscripten), JavaScript, HTML5 Canvas.</li>
                <li><strong>Highlights:</strong> Fast Monte-Carlo and heuristic AI blend, live heatmap visualizations, tunable AI weights and batch tournament mode.</li>
              </ul>
            </div>
          </div>

          <!-- Right column: preview image and demo iframe container -->
          <div style="flex:1 1 420px;min-width:300px;max-width:520px">
            <div style="margin-bottom:.5rem">
              <img id="preview-img" src="/images/image.png" alt="Preview of Battleship-ML demo" tabindex="0" loading="lazy" style="width:100%;height:200px;object-fit:cover;border-radius:6px;border:1px solid #e6e6e6;cursor:pointer" />
            </div>

            <div id="frame-blocked" class="note" style="margin-top:.75rem;display:none;" role="status" aria-live="polite">
              The demo could not be embedded due to framing/security policies. Open in a new tab: <a href="https://johnscarrow.github.io/battleship-ml/" target="_blank" rel="noopener noreferrer">Open Battleship-ML</a>
            </div>

            <p style="margin-top:.6rem">
              <a id="open-demo-btn" class="btn" href="https://johnscarrow.github.io/battleship-ml/" target="_blank" rel="noopener noreferrer">Open Live Demo</a>
            </p>

            <div style="margin-top:.75rem;font-size:13px;color:var(--muted)">
              <strong>Other notable projects</strong>
              <ul style="margin:8px 0 0 18px">
                <li><strong>Responsible Consumption</strong> (React + Express) — Proof-of-concept journaling app. Source available on GitHub.</li>
                <li><strong>PlaylistFor.ME</strong> (JavaScript + jQuery) — Playlist web app integrating external APIs. Source available on GitHub.</li>
                <li><strong>Modular terminal game</strong> (C++) — Terminal game currently being ported to WebAssembly.</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="container" style="padding-top:1rem;padding-bottom:2rem">
      <h2>Contact</h2>
      <p class="muted">Find my projects on <a href="https://github.com/JohnScarrow" target="_blank" rel="noopener noreferrer">GitHub</a>. You can <a href="/resume.html" target="_blank" rel="noopener noreferrer">view/download my resume</a> or email me for references (link omitted here).</p>
    </section>
  </main>

  <footer>
    <div class="container">© John Scarrow — <a href="https://github.com/JohnScarrow/JohnScarrow" target="_blank" rel="noopener noreferrer">Profile repo</a></div>
  </footer>

  <script>
    // Lazy-load the demo iframe: hover (~500ms) or click on preview, or click the button
    // Adds keyboard accessibility (Enter/Space) and a small fade-in animation for the iframe.
    (function(){
      var loadBtn = document.getElementById('load-demo');
      var demoContainer = document.getElementById('demo-container');
      var frameBlocked = document.getElementById('frame-blocked');
      var previewImg = document.getElementById('preview-img');
      var demoSrc = 'https://johnscarrow.github.io/battleship-ml/';
      var hoverTimer = null;
      var HOVER_DELAY = 500; // milliseconds

      // Add fade-in animation style for iframe when inserted
      var style = document.createElement('style');
      style.innerHTML = '\n        .demo-fade-in{animation: demoFadeIn 300ms ease-out both;}\n        @keyframes demoFadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}\n      ';
      document.head.appendChild(style);

      function showBlocked(){ if(frameBlocked) frameBlocked.style.display = 'block'; }
      function hideBlocked(){ if(frameBlocked) frameBlocked.style.display = 'none'; }

      function createAndInsertIframe(opts){
        // Avoid inserting multiple frames
        if(document.getElementById('demo-frame')) return; // already loaded somewhere
        opts = opts || {};
        var src = demoSrc;
        if(opts.autoplay){ src += (src.indexOf('?')>-1? '&':'?') + 'autoplay=1'; }
        if(opts.muted){ src += (src.indexOf('?')>-1? '&':'?') + 'muted=1'; }

        var iframe = document.createElement('iframe');
        iframe.id = 'demo-frame';
        iframe.src = src;
        // Allow autoplay where the browser permits it and allow fullscreen
        iframe.allow = 'autoplay; fullscreen';
        iframe.setAttribute('aria-label', 'Battleship-ML demo iframe');
        iframe.setAttribute('title', 'Battleship-ML demo');
        iframe.loading = 'lazy';
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.border = '0';
        iframe.style.display = 'block';
        iframe.className = 'demo-fade-in';
        iframe.addEventListener('load', function(){ hideBlocked(); });

        // If requested, replace the preview image (left column) with the iframe
        if (opts.replacePreview && previewImg && previewImg.parentNode) {
          var previewParent = previewImg.parentNode;
          // Set a responsive min-height matching the demo area (desktop:72vh, mobile:50vh)
          var desiredVh = (window.innerWidth <= 900) ? '50vh' : '72vh';
          previewParent.style.minHeight = desiredVh;
          previewParent.style.height = 'auto';
          previewParent.style.background = '#000';
          previewParent.style.borderRadius = '6px';
          previewParent.style.overflow = 'hidden';
          previewParent.style.display = 'flex';
          previewParent.style.alignItems = 'stretch';
          previewParent.style.justifyContent = 'center';

          // Remove the preview image and insert iframe in its place
          previewParent.innerHTML = '';
          // Ensure iframe fills parent and scales dynamically
          iframe.style.height = '100%';
          iframe.style.minHeight = '100%';
          iframe.style.overflow = 'hidden';

          // Adjust parent container styles to prevent scrollbars
          previewParent.style.height = '100%';
          previewParent.style.minHeight = '100%';
          previewParent.style.overflow = 'hidden';
          previewParent.style.padding = '0';
          previewParent.style.margin = '0';

          // Add responsive height based on viewport
          var desiredHeight = (window.innerWidth <= 900) ? '50vh' : '72vh';
          previewParent.style.height = desiredHeight;

          // Remove play buttons and retain hover functionality
          if (loadBtn) loadBtn.style.display = 'none';
          if (loadAutoplay) loadAutoplay.style.display = 'none';

          previewParent.appendChild(iframe);

          // also hide the placeholder in the main demo container
          var placeholder = document.getElementById('demo-placeholder');
          if (placeholder) placeholder.remove();

          // quick check if loaded
          setTimeout(function(){ try { if(!iframe.contentWindow || iframe.clientHeight===0){ showBlocked(); } } catch(e){ showBlocked(); } }, 2500);
          return;
        }

        // Default behaviour: insert into the demo container (right column)
        demoContainer.innerHTML = '';
        demoContainer.appendChild(iframe);
        setTimeout(function(){ try { if(!iframe.contentWindow || iframe.clientHeight===0){ showBlocked(); } } catch(e){ showBlocked(); } }, 2500);
      }

      if(loadBtn) loadBtn.addEventListener('click', function(){ createAndInsertIframe(); });
      var loadAutoplay = document.getElementById('load-autoplay');
      if(loadAutoplay) loadAutoplay.addEventListener('click', function(){ createAndInsertIframe({autoplay:true, muted:true}); });
      if(previewImg){
        // Click loads immediately (useful for touch devices)
        previewImg.addEventListener('click', function(e){ e.preventDefault(); createAndInsertIframe(); });
        // Keyboard: Enter or Space should load the demo as well
        previewImg.addEventListener('keydown', function(e){ if(e.key==='Enter' || e.key===' ' || e.key==='Spacebar'){ e.preventDefault(); createAndInsertIframe(); } });
        // Hover for desktop: start timer on mouseenter, cancel on mouseleave
        previewImg.addEventListener('mouseenter', function(){
          createAndInsertIframe({autoplay: true, muted: true, replacePreview: true});
        });
        previewImg.addEventListener('mouseleave', function(){ if(hoverTimer){ clearTimeout(hoverTimer); hoverTimer = null; } });
      }
    })();
    // WarGames easter egg: modal + floating action button
    (function(){
      var fab = document.createElement('button'); fab.id = 'wg-fab'; fab.className = 'wg-fab'; fab.title = 'Shall we play a game?'; fab.innerText = '?';
      document.body.appendChild(fab);

      var modal = document.createElement('div'); modal.id = 'wargames-modal'; modal.setAttribute('role','dialog'); modal.setAttribute('aria-hidden','true');
      modal.innerHTML = '<div class="panel" role="document">\
        <h3>Shall we play a game?</h3>\
        <p class="muted">A small nod to <em>WarGames</em> (1983). Play the Battleship demo against the AI, or open a retro terminal overlay.</p>\
        <div style="margin-top:.5rem">\
          <button id="wg-play" class="wg-cta">Yes — let\'s play</button>\
          <button id="wg-open" class="wg-cta alt">Open Demo in Tab</button>\
          <button id="wg-term" class="wg-cta" style="margin-left:.5rem">Retro Terminal</button>\
          <button id="wg-close" class="wg-cta alt" style="float:right">Close</button>\
        </div>\
        <div id="wg-terminal-area" class="wg-terminal" style="display:none">Initializing WOPR...\n&gt; Shall we play a game?\n</div>\
      </div>';
      document.body.appendChild(modal);

      var wgPlay = modal.querySelector('#wg-play');
      var wgOpen = modal.querySelector('#wg-open');
      var wgTerm = modal.querySelector('#wg-term');
      var wgClose = modal.querySelector('#wg-close');
      var wgTerminalArea = modal.querySelector('#wg-terminal-area');

      function showModal(){ modal.style.display='flex'; modal.setAttribute('aria-hidden','false'); }
      function hideModal(){ modal.style.display='none'; modal.setAttribute('aria-hidden','true'); wgTerminalArea.style.display='none'; wgTerminalArea.innerText = 'Initializing WOPR...\n&gt; Shall we play a game?\n'; }

      fab.addEventListener('click', function(){ showModal(); });
      wgClose.addEventListener('click', hideModal);

      wgOpen.addEventListener('click', function(){ window.open('https://johnscarrow.github.io/battleship-ml/','_blank','noopener'); hideModal(); });

      wgPlay.addEventListener('click', function(){
        // Attempt to load the demo iframe (same routine used earlier)
        try{ var evt = new Event('click'); document.getElementById('preview-img').dispatchEvent(evt); }catch(e){}
        // If the demo container exists, try to create iframe replacement as desktop hover did
        var preview = document.getElementById('preview-img');
        if(preview){ preview.click(); }
        hideModal();
      });

      wgTerm.addEventListener('click', function(){
        // Toggle retro terminal area inside modal
        if(wgTerminalArea.style.display==='none'){ wgTerminalArea.style.display='block';
          // small simulated sequence
          var lines = ["WOPR initializing...","Loading scenarios...","READY","Shall we play a game?","The only winning move is not to play."];
          wgTerminalArea.innerText = '';
          var i=0; var t = setInterval(function(){ if(i<lines.length){ wgTerminalArea.innerText += lines[i] + '\n'; i++; } else clearInterval(t); }, 500);
        } else { wgTerminalArea.style.display='none'; }
      });
    })();
  </script>
</body>
</html>
