<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>John Scarrow — Battleship-ML Demo</title>
  <style>
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; }
    header { padding: 1rem; background:#0b1221; color: #fff; }
    main { height: calc(100vh - 86px); }
    iframe { width:100%; height:100%; border:0; }
    .note { padding: .75rem 1rem; background:#fff3cd; color:#663c00; }
  </style>
</head>
<body>
  <header>
    <div style="display:flex;align-items:center;justify-content:space-between;gap:1rem">
      <div>
        <h1 style="margin:0;font-size:1.1rem">John Scarrow — Battleship-ML</h1>
        <p style="margin:.25rem 0 0;font-size:.9rem;opacity:.9">User site that embeds the Battleship-ML WebAssembly demo.</p>
      </div>
      <div style="text-align:right;font-size:.9rem">
        <a href="https://github.com/JohnScarrow/JohnScarrow" target="_blank" rel="noopener noreferrer" style="color:inherit;text-decoration:underline;">Profile repo</a>
      </div>
    </div>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>John Scarrow — Portfolio</title>
        <meta name="description" content="John Scarrow — portfolio showcasing web and ML projects (Battleship-ML demo).">
        <meta property="og:title" content="John Scarrow — Portfolio">
        <meta property="og:description" content="Portfolio of web and machine learning projects by John Scarrow.">
        <meta property="og:image" content="/images/screenshot.svg">
        <meta property="og:url" content="https://johnscarrow.github.io/">
        <style>
          :root{--bg:#ffffff;--muted:#6b7280;--accent:#0b1221}
          html,body{height:100%}
          body { margin: 0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#0f172a; background:var(--bg); }
          header{padding:1rem;background:var(--accent);color:#fff}
          .container{max-width:1100px;margin:0 auto;padding:1rem}
          nav a{color:#d1d5db;text-decoration:none;margin-left:1rem}
          .hero{padding:3rem 1rem;background:linear-gradient(180deg,#ffffff00,#ffffff);}
          .hero h1{margin:0;font-size:2rem}
          .muted{color:var(--muted)}
          .card{border:1px solid #e6e6e6;border-radius:8px;padding:1rem;background:#fff}
          .controls{margin-top:.75rem}
          .btn{display:inline-block;padding:.5rem .75rem;border-radius:6px;background:#0b1221;color:#fff;text-decoration:none;border:0;cursor:pointer}
          .btn.secondary{background:#efefef;color:#111;border:1px solid #ddd}
          .note { padding: .75rem 1rem; background:#fff3cd; color:#663c00; border-radius:6px }
          footer{padding:.75rem 1rem;background:#f6f7fb;color:#222;font-size:.9rem;text-align:center}
          @media (min-width:700px){ .hero{padding:4rem 1rem} }
      </picture>

      <div id="iframe-area" style="background:#000; border-radius:4px; overflow:hidden; height:58vh;">
        <iframe id="demo-frame" src="https://johnscarrow.github.io/battleship-ml/" title="Battleship-ML demo" style="width:100%;height:100%;border:0;display:block;"> </iframe>
      </div>

      <div id="frame-blocked" class="note" style="margin-top:.75rem;display:none;" role="status" aria-live="polite">
        The demo could not be embedded due to framing/security policies. You can open it directly: <a href="https://johnscarrow.github.io/battleship-ml/" target="_blank" rel="noopener noreferrer">Open Battleship-ML</a>
      </div>
    </div>
  </main>

  <footer style="padding:0.75rem 1rem;background:#f6f7fb;color:#222;font-size:.9rem;text-align:center;">
    <div style="max-width:1100px;margin:0 auto;">© John Scarrow — <a href="https://github.com/JohnScarrow/JohnScarrow" target="_blank" rel="noopener noreferrer">Profile repo</a></div>
  </footer>

  <script>
    // Try to detect when the iframe fails to load (e.g., blocked by X-Frame-Options / CSP).
    (function(){
      var frame = document.getElementById('demo-frame');
      var blocked = document.getElementById('frame-blocked');
      var fallbackNote = document.getElementById('fallback-note');
      var loaded = false;
      function showBlocked(){ blocked.style.display = 'block'; fallbackNote.style.display = 'block'; }
      function hideBlocked(){ blocked.style.display = 'none'; }
      // If iframe fires load, assume it's ok
      frame.addEventListener('load', function(){ loaded = true; hideBlocked(); });
      // After a short timeout, if no load event happened, show the fallback message.
      setTimeout(function(){ if(!loaded){ showBlocked(); } }, 2500);
    })();
  </script>
</body>
</html>
